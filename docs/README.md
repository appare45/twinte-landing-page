# 開発者向けドキュメント

ここでは、Twin:teと連携した学生サービスを開発したい開発者向けに、Twin:teの仕様や連携サービスを開発する上での注意点などを説明しています。
もしもTwin:teまわりのサービスを開発する人がいたら、このページに目を通してください。

連携を希望する際は、開発者向けプライバシーポリシーを確認の上お問い合わせください。

## Twin:teのAPIについて

セキュリティ上、Twin:te外部ではTwin:teのAPIを利用することはできません。
基本的にTwin:te側で用意したUIを介して外部と連携する機能を提供しています。

## 1. Twin:teへインポート機能

外部サービスからTwin:teに授業データをインポートすることができます。
以下のようにcodes以下はカンマ区切りの文字列で渡します。

(例) `GB11514`と`1101102`の授業をインポートする場合

`https://app.twinte.net/import?codes=GB11514,1101102`

### 仕様

#### 年度と年度替わりのタイミングについて

Twin:teには年度の概念があり、年度ごとに異なるKdbを参照しています。
既定では「現在の年度」が表示・検索・追加に用いられ、これは表示設定で変更可能です。
また「現在の年度」はkDBが更新される4/1から最新の年度になります。（ニュースページにて広報予定です。）

現在のインポートURLからは年度の指定はできません。
これはユーザーの意図しない年度にインポートするのを防ぐためです。

表示設定またはサイドバーで確認可能な年度に追加されます。

### トラブルシューティング

#### 未ログイン時の場合

ユーザーがTwin:teにログインしていない場合、ログインを促すモーダルが表示されます。
ログイン後、インポートページにリダイレクトされます。

#### 講義が見つからなかった場合

講義が見つからない場合エラートーストが表示されます。
エラー表示されていない授業はTwin:te側に追加されています。

また年度によっては講義が見つからない場合があります。

#### 重複していた場合

講義が重複している場合エラートーストが表示されます。
エラー表示されていない授業はTwin:te側に追加されています。
